# 데이터 과학을 위한 통계 3장 : 통계적 실험과 유의성 검정

전통적인 실험설계에 대해 알아보고 데이터 과학에도 적용되는 몇몇 어려움에 대해 논의해보자. 

통계적 유의성, t 검정, p값 등은 **통계적 추론**이라는 파이프라인 속에 있다. 이 과정은 *가격 A가 기존 가격 B보다 수익성이 높다* 라는 식의 가설을 세우는 것에서 출발한다. 가설을 검정하고 원하는 결론을 도출할 수 있도록 실험을 설계한다. 그리고 데이터를 수집하고 분석하여 결론을 도출한다.

**추론 (inference)** 이라는 용어는 제한된 데이터로 이루어진 실험의 결과를 더 큰 대상 또는 모집단에 적용하고자 하는 의도를 나타낸다.

## (1) A/B 테스트

A/B 테스트는 두 처리 방법, 제품 , 혹은 절차 중 어느 쪽이 다른 쪽보다 더 우월하다는 것을 입증하기 위해 실험군을 두 그룹으로 나누어 진행하는 실험이다. 종종 두 가지 그룹 중 하나는 기존 방법이거나 아무런 처리를 하지 않는 **대조군** 으로 설정된다. 새로운 처리법을 적용하는 것이 대조군보다 낫다는 것이 일반적인 가설이 된다.

- 이상적인 경우 피험자는 **무작위** 로 A, B군 중 하나에 할당된다
- 그룹 간 비교에 사용하는 검정통계량 또는 측정 지표에 주의해야 한다 (이진 변수, 연속형, 횟수)
- 여러 가지 정보를 수집할 수 있지만, 사용하고자 하는 지표 또는 검정통계량을 사전에 미리 정해놓아야 한다. 
    - 실험 후에 지표를 선택한다면 연구자 편향에 빠질 수 있다.

### 대조군은 왜 필요할까?

대조군이 없다면 어떤 차이가 변경사항 때문인지 우연히 발생한 것인지 확신할 수 없다. 

## (2) 가설검정

가설검정 혹은 유의성 검정은 관찰된 효과가 우연에 의한 것인지 여부를 알아내기 위한 기법이다. 
사람들은 예외적인 사건을 예상하지 못하거나, 무작위로 발생한 사건을 의미있는 패턴으로 오해하는 경향이 있다. 
통계적 가설 검정은 연구자가 우연히 일어난 일에 속지 않도록 보호하기 위해 개발되었다.

### 귀무가설

가설검정에서는 실험을 통해 얻은 그룹 간의 차이가 랜덤으로 발생할 수 있는 합리적인 수준보다 더 극단적으로 다르다는 증거를 요구한다. 
이 과정에서 그룹 간의 차이는 우연에 의한 결과라는 것을 기본 가정으로 하는데, 이것을 **귀무가설** 이라고 한다.

### 대립가설

귀무가설과 대립하는 가설을 말한다. 몇 가지 예시를 살펴보자.

```
- 귀무가설 : A와 B 그룹의 평균에는 차이가 없다
- 대립가설 : A는 B와 다르다

- 귀무가설 : A는 B보다 작거나 같다
- 대립가설 : A는 B보다 크다

- 귀무가설 : B는 A보다 3% 크지 않다
- 대립가설 : B는 A보다 3% 크다
```

### 일원/이원 가설검정

방향성을 고려한 대립가설이 필요할 때도 있다 ( B가 A보다 크다 ). 이 경우에는 일원 가설검정 (한쪽 꼬리) 을 사용한다. 
어느 쪽으로도 속지 않도록 가설검정을 수행하려면 대립가설은 양방향이 된다 ( B는 A와 다르다 ). 이 경우에는 이원 가설검정 (양쪽 꼬리) 을 사용한다.
