# Recall and Precision at k for Recommender Systems

- 다음 포스팅을 정리해보자
- <https://medium.com/@m_n_malaeb/recall-and-precision-at-k-for-recommender-systems-618483226c54>

# Definitions

## Relevant vs. Recommended

- **Relevant items** are already known in the data set
    - Relevant item: Has a True/Actual rating >= 3.5
    - Irrelevant item: Has a True/Actual rating < 3.5
- **Recommended items** are generated by recommendation algorithm
    - Recommended item: has a predicted rating >= 3.5
    - Not recommended item: Has a predicted rating < 3.5

## Precision and recall at k

- **Precision at k** is the proportion of recommended items in the top-k set that are relevant
    - `Precision@k = (# of recommended items @k that are relevant) / (# of recommended items @k)`
- **Recall at k** is the proportion of relevant items found in the top-k recommendations
    - `Recall@k = (# of recommended items @k that are relevant) / (total # of relevant items)`

# Limit Cases

- If there are no items recommended, we cannot compute precision at k since we cannot divide by zero
    - In that case we set `precision@k = 1`
- If the total number of relevant items is zero, we set `recall@k = 1`

# References

- [Evaluating Collaborative Filtering Recommender Systems](https://grouplens.org/site-content/uploads/evaluating-TOIS-20041.pdf)
- [Evaluation Metrics : Information retrieval](https://ils.unc.edu/courses/2013_spring/inls509_001/lectures/10-EvaluationMetrics.pdf)
- [Python surprise document : How to compute precision@k and recall@k](https://surprise.readthedocs.io/en/latest/FAQ.html#how-to-compute-precision-k-and-recall-k)
